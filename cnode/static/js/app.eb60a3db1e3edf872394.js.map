{"version":3,"sources":["webpack:///static/js/app.eb60a3db1e3edf872394.js","webpack:///./src/main.js","webpack:///./src/libs/utils.js","webpack:///./src/filter.js","webpack:///./src/router.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_keys","_keys2","_vue","_vue2","_vueRouter","_vueRouter2","_filter","_filter2","_router","_router2","use","forEach","k","filter","router","saveSrollPosition","transitionOnLoad","beforeEach","transition","to","auth","localStorage","token","next","redirect","encodeURIComponent","path","app","extend","start","30","_","fmtDate","date","str","o","y","getFullYear","M","getMonth","d","getDate","h","getHours","min","getMinutes","m","Millisecondstodate","msd","time","parseInt","fetchUser","text","ignore_regexps","regexp","replace","results","match","names","i","l","length","s","slice","push","uniq","linkUser","user","name","RegExp","arry_unique","ary","newAry","hasOwnProperty","35","_utils","_utils2","getLastTimeStr","is","Date","getTitleStr","tab","getTabClassName","good","top","className","37","Object","defineProperty","value","map","*","component","resolve","e","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","this","/","/list","/login","/user/:loginname","/topic/:id","/about","/message","/publish"],"mappings":"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","file":"static/js/app.eb60a3db1e3edf872394.js","sourcesContent":["webpackJsonp([10,8],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _keys = __webpack_require__(49);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _vue = __webpack_require__(112);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueRouter = __webpack_require__(111);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tvar _filter = __webpack_require__(35);\n\t\n\tvar _filter2 = _interopRequireDefault(_filter);\n\t\n\tvar _router = __webpack_require__(37);\n\t\n\tvar _router2 = _interopRequireDefault(_router);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueRouter2.default);\n\t(0, _keys2.default)(_filter2.default).forEach(function (k) {\n\t\treturn _vue2.default.filter(k, _filter2.default[k]);\n\t});\n\tvar router = new _vueRouter2.default({\n\t\tsaveSrollPosition: true,\n\t\ttransitionOnLoad: true\n\t});\n\t\n\trouter.beforeEach(function (transition) {\n\t\tif (transition.to.auth) {\n\t\t\tif (localStorage.token) {\n\t\t\t\ttransition.next();\n\t\t\t} else {\n\t\t\t\tvar redirect = encodeURIComponent(transition.to.path);\n\t\t\t\ttransition.redirect(\"/login?redirect=\" + redirect);\n\t\t\t}\n\t\t} else {\n\t\t\ttransition.next();\n\t\t}\n\t});\n\tvar app = _vue2.default.extend({});\n\t(0, _router2.default)(router);\n\trouter.start(app, \"#app\");\n\n/***/ },\n\n/***/ 30:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _ = __webpack_require__(88);\n\tvar fmtDate = function fmtDate(date) {\n\t  var str = \"\";\n\t  var o = {\n\t    y: date.getFullYear(),\n\t    M: date.getMonth() + 1,\n\t    d: date.getDate(),\n\t    h: date.getHours(),\n\t    min: date.getMinutes()\n\t  };\n\t  if (o.M < 10) {\n\t    o.M = \"0\" + o.M;\n\t  }\n\t  if (o.d < 10) {\n\t    o.d = \"0\" + o.d;\n\t  }\n\t  if (o.h < 10) {\n\t    o.h = \"0\" + o.h;\n\t  }\n\t  if (o.min < 10) {\n\t    o.min = \"0\" + o.m;\n\t  }\n\t  str += o.y + \"-\" + o.M + \"-\" + o.d + \" \" + o.h + \":\" + o.min;\n\t  return str;\n\t};\n\t\n\tvar Millisecondstodate = function Millisecondstodate(msd) {\n\t  var time = parseInt(msd / 1000);\n\t  var str = \"\";\n\t  if (time != null && time != \"\") {\n\t    if (time > 60 && time < 3600) {\n\t      str = parseInt(time / 60) + \" 分钟前\";\n\t    } else if (time >= 3600 && time < 86400) {\n\t      str = parseInt(time / 3600) + \" 小时前\";\n\t    } else if (time >= 86400 && time < 86400 * 30) {\n\t      str = parseInt(time / 86400) + \" 天前\";\n\t    } else if (time >= 86400 * 30 && time < 86400 * 365) {\n\t      str = parseInt(time / (86400 * 30)) + \" 月前\";\n\t    } else if (time >= 86400 * 365) {\n\t      str = parseInt(time / (86400 * 365)) + \" 年前\";\n\t    } else {\n\t      str = time + \" 秒前\";\n\t    }\n\t  }\n\t  return str;\n\t};\n\t\n\tvar fetchUser = function fetchUser(text) {\n\t  if (text == \"\") {\n\t    return [];\n\t  } else {\n\t    var ignore_regexps = [/```.+?```/g, /^```[\\s\\S]+?^```/gm, /`[\\s\\S]+?`/g, /^    .*/gm, /\\b\\S*?@[^\\s]*?\\..+?\\b/g, /\\[@.+?\\]\\(\\/.+?\\)/g];\n\t  }\n\t  ignore_regexps.forEach(function (regexp) {\n\t    text = text.replace(regexp, \"\");\n\t  });\n\t  var results = text.match(/@[0-9a-zA-Z_-]+\\b/igm);\n\t  var names = [];\n\t  if (results) {\n\t    for (var i = 0, l = results.length; i < l; i++) {\n\t      var s = results[i];\n\t      s = s.slice(1);\n\t      names.push(s);\n\t    }\n\t  }\n\t  names = _.uniq(names);\n\t  return names;\n\t};\n\t\n\tvar linkUser = function linkUser(text) {\n\t  var user = fetchUser(text);\n\t  for (var i = 0; i < user.length; i++) {\n\t    var name = user[i];\n\t    text = text.replace(new RegExp('@' + name + '\\\\b(?!\\\\])', 'g'), '[@' + name + '](/user/' + name + ')');\n\t  }\n\t  return text;\n\t};\n\t\n\tvar arry_unique = function arry_unique(ary) {\n\t  var obj = {};\n\t  var newAry = [];\n\t  for (var i = 0; i < ary.length; i++) {\n\t    if (!obj.hasOwnProperty(ary[i])) {\n\t      obj[ary[i]] = ary[i];\n\t      newAry.push(ary[i]);\n\t    }\n\t  }\n\t};\n\texports.arry_unique = arry_unique;\n\texports.fmtDate = fmtDate;\n\texports.Millisecondstodate = Millisecondstodate;\n\texports.linkUser = linkUser;\n\n/***/ },\n\n/***/ 35:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _utils = __webpack_require__(30);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.getLastTimeStr = function (time, is) {\n\t\tif (is) {\n\t\t\treturn _utils2.default.Millisecondstodate(new Date() - new Date(time));\n\t\t} else {\n\t\t\treturn _utils2.default.fmtDate(new Date(time));\n\t\t}\n\t};\n\texports.getTitleStr = function (tab) {\n\t\tvar str = \"\";\n\t\tswitch (tab) {\n\t\t\tcase \"share\":\n\t\t\t\tstr = \"分享\";\n\t\t\t\tbreak;\n\t\t\tcase \"ask\":\n\t\t\t\tstr = \"问答\";\n\t\t\t\tbreak;\n\t\t\tcase \"good\":\n\t\t\t\tstr = \"精华\";\n\t\t\t\tbreak;\n\t\t\tcase \"job\":\n\t\t\t\tstr = \"招聘\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstr = \"全部\";\n\t\t\t\tbreak;\n\t\t}\n\t\treturn str;\n\t};\n\t\n\texports.getTabClassName = function (tab, good, top) {\n\t\tvar className = \"\";\n\t\tif (good) {\n\t\t\tclassName = \"good\";\n\t\t} else if (top) {\n\t\t\tclassName = \"top\";\n\t\t} else {\n\t\t\tswitch (tab) {\n\t\t\t\tcase \"share\":\n\t\t\t\t\tclassName = \"share\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ask\":\n\t\t\t\t\tclassName = \"ask\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"job\":\n\t\t\t\t\tclassName = \"job\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tclassName = \"default\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn className;\n\t};\n\n/***/ },\n\n/***/ 37:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function (router) {\n\t    router.map({\n\t        \"*\": {\n\t            name: \"home\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(0, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(34)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            }\n\t        },\n\t        \"/\": {\n\t            name: \"home\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(0/* duplicate */, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(34)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            }\n\t        },\n\t        \"/list\": {\n\t            name: \"list\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(2, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(105)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            }\n\t        },\n\t        \"/login\": {\n\t            name: \"login\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(3, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(106)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            }\n\t        },\n\t        \"/user/:loginname\": {\n\t            name: \"user\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(5, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(110)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            },\n\t            auth: true\n\t        },\n\t        \"/topic/:id\": {\n\t            name: \"topic\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(1, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(109)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            }\n\t        },\n\t        \"/about\": {\n\t            name: \"about\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(7, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(104)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            }\n\t        },\n\t        \"/message\": {\n\t            name: \"message\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(6, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(107)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            },\n\t            auth: true\n\t        },\n\t        \"/publish\": {\n\t            name: \"publish\",\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* require */(4, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(108)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            },\n\t            auth: true\n\t        }\n\t    });\n\t};\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.eb60a3db1e3edf872394.js\n **/","import Vue from 'vue'\nimport VueRouter from \"vue-router\"   \nimport filter from \"./filter.js\"                                                       \nimport routerMap from \"./router.js\"\nVue.use(VueRouter);\nObject.keys(filter).forEach(k => Vue.filter(k,filter[k]));\nlet router=new VueRouter({\n\tsaveSrollPosition:true,\n\ttransitionOnLoad:true\n})\n//当未登录时，点击页脚导航，跳转到登录页面，同时此时记录跳转之前的路径，用query记录下，当登录成功后重新跳回到消息，发表，我的页面\nrouter.beforeEach((transition) => {\n\tif(transition.to.auth){\n\t\tif(localStorage.token){\n\t\t\ttransition.next();\n\t\t}else{\n\t\t\tlet redirect=encodeURIComponent(transition.to.path);\n\t\t\ttransition.redirect(\"/login?redirect=\"+redirect);\n\t\t}\n\t}else{\n\t\ttransition.next();\n\t}\n})\nlet app=Vue.extend({});\nrouterMap(router);\nrouter.start(app,\"#app\");\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2016-08-12 16:23:52\r\n * @version $Id$\r\n */\r\nlet _=require(\"lodash\");\r\nconst fmtDate=function(date){\r\n\tvar str=\"\";\r\n    var o={\r\n    \ty:date.getFullYear(),\r\n    \tM:date.getMonth()+1,\r\n    \td:date.getDate(),\r\n    \th:date.getHours(),\r\n    \tmin:date.getMinutes()\r\n    }\r\n    if(o.M<10){\r\n    \to.M=\"0\"+o.M;\r\n    }\r\n    if(o.d<10){\r\n       o.d=\"0\"+o.d;\r\n    }\r\n    if(o.h<10){\r\n       o.h=\"0\"+o.h;\r\n    }\r\n    if(o.min<10){\r\n       o.min=\"0\"+o.m;\r\n    }\r\n    str+=o.y+\"-\"+o.M+\"-\"+o.d+\" \"+o.h+\":\"+o.min;\r\n    return str;\r\n}\r\n\r\nconst Millisecondstodate=function(msd){\r\n\tvar time=parseInt(msd/1000);\r\n\tvar str=\"\";\r\n\tif(time!=null&&time!=\"\"){\r\n\t\tif(time>60&&time<3600){\r\n             str=parseInt(time/60)+\" 分钟前\"\r\n\t\t}else if(time>=3600&&time<86400){\r\n             str=parseInt(time/3600)+\" 小时前\"\r\n\t\t}else if(time>=86400&&time<86400*30){\r\n             str=parseInt(time/86400)+\" 天前\"\r\n\t\t}else if(time>=86400*30&&time<86400*365){\r\n             str=parseInt(time/(86400*30))+\" 月前\"\r\n\t\t}else if(time>=86400*365){\r\n\t\t\tstr=parseInt(time/(86400*365))+\" 年前\"\r\n\t\t}else{\r\n\t\t\tstr=time+\" 秒前\";\r\n\t\t}\r\n\t}\r\n\treturn str;\r\n}\r\n\r\nconst fetchUser=function(text){\r\n   if(text==\"\"){\r\n    return [];\r\n   }else{\r\n     var ignore_regexps=[\r\n      /```.+?```/g,           //去除单行的```\r\n      /^```[\\s\\S]+?^```/gm,   //```里面的是pre标签内容\r\n      /`[\\s\\S]+?`/g,          //同一行中`some code`内容也不能被解析\r\n      /^    .*/gm,              //4个空格也是pre标签，不匹配换行符\r\n      /\\b\\S*?@[^\\s]*?\\..+?\\b/g,     //邮箱地址'name@gmail.com'\r\n      /\\[@.+?\\]\\(\\/.+?\\)/g      //已经link的 'username'，不能再次解析\r\n     ];\r\n   }\r\n  ignore_regexps.forEach(function(regexp){\r\n    text=text.replace(regexp,\"\");\r\n  });\r\n  var results=text.match(/@[0-9a-zA-Z_-]+\\b/igm);\r\n  var names=[];\r\n  if(results){\r\n    for(var i=0,l=results.length;i<l;i++){\r\n        var s=results[i];\r\n        s=s.slice(1);\r\n        names.push(s);\r\n    }\r\n  }\r\n  names=_.uniq(names);\r\n  return names;\r\n}\r\n\r\nconst linkUser=function(text){\r\n   var user=fetchUser(text);\r\n   for(var i=0;i<user.length;i++){\r\n      var name=user[i];\r\n      text=text.replace(new RegExp('@'+name+'\\\\b(?!\\\\])','g'),'[@'+name+'](/user/'+name+')');\r\n   }\r\n   return text;\r\n}\r\n\r\nconst arry_unique=function(ary){\r\n    var obj={};\r\n    var newAry=[];\r\n    for(var i=0;i<ary.length;i++){\r\n        if(!obj.hasOwnProperty(ary[i])){\r\n            obj[ary[i]]=ary[i];\r\n            newAry.push(ary[i]);\r\n        }\r\n    }\r\n}\r\nexports.arry_unique=arry_unique;\r\nexports.fmtDate=fmtDate;\r\nexports.Millisecondstodate=Millisecondstodate;\r\nexports.linkUser=linkUser;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/utils.js\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2016-08-12 17:30:27\r\n * @version $Id$\r\n */\r\nimport utils from \"./libs/utils.js\"\r\n\r\nexports.getLastTimeStr=function(time,is){\r\n   if(is){\r\n   \treturn utils.Millisecondstodate(new Date()-new Date(time));\r\n   }else{\r\n   \treturn utils.fmtDate(new Date(time));\r\n   }\r\n}\r\nexports.getTitleStr=function(tab){\r\n\tvar str=\"\"\r\n\tswitch(tab){\r\n\t\tcase \"share\":\r\n\t\t    str=\"分享\";\r\n\t\t    break;\r\n\t\tcase \"ask\":\r\n\t\t    str=\"问答\";\r\n\t\t    break;\r\n\t\tcase \"good\":\r\n\t\t    str=\"精华\";\r\n\t\t    break;\r\n\t\tcase \"job\":\r\n\t\t    str=\"招聘\";\r\n\t\t    break;\r\n\t\tdefault:\r\n\t\t    str=\"全部\";\r\n\t\t    break;\r\n\t}\r\n\treturn str;\r\n}\r\n\r\nexports.getTabClassName=function(tab,good,top){\r\n\tvar className=\"\";\r\n\tif(good){\r\n\t\tclassName=\"good\";\r\n\t}else if(top){\r\n\t\tclassName=\"top\"\r\n\t}else{\r\n\t\tswitch(tab){\r\n\t\t\tcase \"share\":\r\n\t\t\t  className=\"share\";\r\n\t\t\t  break;\r\n\t\t\tcase \"ask\":\r\n\t\t\t  className=\"ask\";\r\n\t\t\t  break;\r\n\t\t\tcase \"job\":\r\n\t\t\t  className=\"job\";\r\n\t\t\t  break;\r\n            default:\r\n              className=\"default\";\r\n              break;\r\n\t\t}\r\n\t}\r\n\treturn className;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/filter.js\n **/","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2016-08-12 13:17:23\r\n * @version $Id$\r\n */\r\n\r\nexport default function(router){\r\n    router.map({\r\n    \t\"*\":{\r\n            name:\"home\",\r\n    \t\tcomponent:function(resolve){\r\n    \t\t\trequire(['./views/index.vue'],resolve);\r\n    \t\t}\r\n    \t},\r\n        \"/\":{\r\n            name:\"home\",\r\n            component:function(resolve){\r\n                require(['./views/index.vue'],resolve);\r\n            }\r\n        },\r\n    \t\"/list\":{\r\n    \t\tname:\"list\",\r\n    \t\tcomponent:function(resolve){\r\n    \t\t\trequire(['./views/list.vue'],resolve);\r\n    \t\t}\r\n    \t},\r\n    \t\"/login\":{\r\n    \t\tname:\"login\",\r\n    \t\tcomponent:function(resolve){\r\n    \t\t\trequire(['./views/login.vue'],resolve)\r\n    \t\t}\r\n    \t},\r\n        \"/user/:loginname\":{\r\n            name:\"user\",\r\n            component:function(resolve){\r\n                require(['./views/user.vue'],resolve);\r\n            },\r\n           auth:true\r\n        },\r\n        \"/topic/:id\":{\r\n            name:\"topic\",\r\n            component:function(resolve){\r\n                require(['./views/topic.vue'],resolve);\r\n            }\r\n        },\r\n        \"/about\":{\r\n            name:\"about\",\r\n            component:function(resolve){\r\n                require(['./views/about.vue'],resolve);\r\n            }\r\n        },\r\n        \"/message\":{\r\n            name:\"message\",\r\n            component:function(resolve){\r\n                require(['./views/message.vue'],resolve);\r\n            },\r\n            auth:true\r\n        },\r\n        \"/publish\":{\r\n            name:\"publish\",\r\n            component:function(resolve){\r\n                require(['./views/publish.vue'],resolve);\r\n            },\r\n            auth:true\r\n        }\r\n    })\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/router.js\n **/"],"sourceRoot":""}